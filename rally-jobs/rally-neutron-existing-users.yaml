{% set image_name = "^cirros.*uec$" %}
{% set smoke = 0 %}

---
  NeutronNetworks.create_and_list_networks:
    -
      args:
        network_create_args:
      runner:
        type: "constant"
        times: {{smoke or 40}}
        concurrency: {{smoke or 20}}
      sla:
        failure_rate:
          max: 20


  NeutronSecurityGroup.create_and_list_security_groups:
    -
      args:
        security_group_create_args: {}
      runner:
        type: "constant"
        times: {{smoke or 20 }}
        concurrency: {{smoke or 10}}
      sla:
        failure_rate:
          max: 20

  NeutronSecurityGroup.create_and_delete_security_groups:
    -
      args:
        security_group_create_args: {}
      runner:
        type: "constant"
        times: {{smoke or 20 }}
        concurrency: {{smoke or 10}}
      sla:
        failure_rate:
          max: 20

  NeutronSecurityGroup.create_and_update_security_groups:
    -
      args:
        security_group_create_args: {}
        security_group_update_args: {}
      runner:
        type: "constant"
        times: {{smoke or 20 }}
        concurrency: {{smoke or 10}}
      sla:
        failure_rate:
          max: 20

  NeutronNetworks.create_and_list_floating_ips:
    -
      args:
        floating_network: "public"
        floating_ip_args: {}
      runner:
        type: "constant"
        times: {{smoke or 40}}
        concurrency: {{smoke or 20}}
      sla:
        failure_rate:
          max: 0


  NeutronLoadbalancerV1.create_and_list_healthmonitors:
    -
      args:
        healthmonitor_create_args: {}
      runner:
        type: "constant"
        times: {{smoke or 20}}
        concurrency: {{smoke or 10}}
      sla:
        failure_rate:
          max: 0

  NeutronLoadbalancerV1.create_and_delete_healthmonitors:
    -
      args:
        healthmonitor_create_args: {}
      runner:
        type: "constant"
        times: {{smoke or 20}}
        concurrency: {{smoke or 10}}
      sla:
        failure_rate:
          max: 0

  NeutronLoadbalancerV1.create_and_update_healthmonitors:
    -
      args:
        healthmonitor_create_args: {}
        healthmonitor_update_args:
          admin_state_up: False
      runner:
        type: "constant"
        times: {{smoke or 20}}
        concurrency: {{smoke or 10}}
      sla:
        failure_rate:
          max: 0

  NeutronNetworks.create_and_update_networks:
    -
      args:
        network_create_args: {}
        network_update_args:
            admin_state_up: False
            name: "_updated"
      runner:
        type: "constant"
        times: {{smoke or 20}}
        concurrency: {{smoke or 10}}
      sla:
        failure_rate:
          max: 20


  NeutronNetworks.create_and_delete_networks:
    -
      args:
        network_create_args: {}
      runner:
        type: "constant"
        times: {{smoke or 20}}
        concurrency: {{smoke or 10}}
      sla:
        failure_rate:
          max: 20


  NeutronNetworks.create_and_delete_floating_ips:
    -
      args:
        floating_network: "public"
        floating_ip_args: {}
      runner:
        type: "constant"
        times: {{smoke or 40}}
        concurrency: {{smoke or 20}}
      sla:
        failure_rate:
          max: 0


  Quotas.neutron_update:
    -
      args:
        max_quota: 1024
      runner:
        type: "constant"
        times: {{smoke or 10}}
        concurrency: {{smoke or 2}}
      sla:
        failure_rate:
          max: 0

  NovaSecGroup.create_and_delete_secgroups:
    -
      args:
        security_group_count: 5
        rules_per_security_group: 5
      runner:
        type: "constant"
        times: {{smoke or 4}}
        concurrency: {{smoke or 4}}
      sla:
        failure_rate:
          max: 0

  NovaSecGroup.create_and_list_secgroups:
    -
      args:
        security_group_count: 5
        rules_per_security_group: 5
      runner:
        type: "constant"
        times: {{smoke or 4}}
        concurrency: {{smoke or 4}}
      sla:
        failure_rate:
          max: 0
